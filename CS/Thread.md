#
## Thread
#

### 스레드란
```
스레드는 어떠한 프로그램 내에서, 특히 프로세스 내에서 실행되는 흐름의 단위를 말한다. 일반적으로 한 프로그램은 하나의 스레드를 가지고 있지만, 프로그램 환경에 따라 둘 이상의 스레드를 동시에 실행 할 수 있다.
이러한 방식을 멀티스레드라고 한다.
```
---
### 프로세스와 스레드의 비교

> 멀티프로세스와 멀티스레드는 양쪽 모두 여러 흐름이 동시에 진행된다는 공통점을 가지고 있다. 

> 하지만 멀티 프로세스에서 각 프로세스는 독립적으로 실행되며 각각 별개의 메모리를 차지하고 있는 것과 달리 멀티스레드는 프로세스는 프로세스 내의 메모리를 공유해 사용할 수 있다. 

> 또한 프로세스 간의 전환 속도보다 스레드 간의 전환 속도가 빠르다.

> 멀티스레드의 다른 장점은 cpu가 여러 개일 경우에 각각의 cpu가 스레드 하나씩을 담당하는 방법으로 속도를 높일 수 있다는 것이다.

> 이러한 시스템에서는 여러 스레드가 실제 시간상으로 동시에 수행될 수 있기 때문이다.

> 멀티스레드의 단점에는 각각의 스레드 중 어떤 것이 먼저 실행될지 그 순서를 알 수 없다는 것이다.
```
예를 들어, 두 스레드가 특정 공유 변수 i의 값을 1 증가시키는 명령을 실행할 때
```
1. 공유되는 변수 i의 값을 레지스터에 저장
2. 레지스터의 값을 1 증가시킨다.
3. 변수 i에 그 값을 저장한다.

---
### 스레드의 종류
---

#### 사용자 레벨 스레드(User-Level Thread)
> 사용자 스레드는 커널 영역의 상위에서 지원되며 일반적으로 사용자 레벨의 라이브러리를 통해 구현된다.

> 라이브러리는 스레드의 생성 및 스케줄링 등에 관한 관리 기능을 제공한다.

> 장점: 동일한 메모리 영역에서 스레드가 생성 및 관리되므로 속도가 빠르다.

> 단점: 여러 개의 사용자 스레드 중 하나의 스레드가 시스템 호출 등으로 중단되면 나머지 모든 스레드 역시 중단된다.

---
#### 커널 레벨 스레드(Kernel-Level Thread)

> 커널 스레드는 운영체제가 지원하는 스레드 기능으로 구현된다.

> 커널이 스레드의 생성 및 스케줄링 등을 관리한다.

> 스레드가 시스템 호출 등으로 중단되더라도, 커널은 프로세스 내의 다른 스레드를 중단시키지 않고 계속 실핼시켜준다.
---
#### 스레드 데이터
1. 스레드 기본 데이터: 스레드도 프로세스와 마찬가지로 하나의 실핼 흐름이므로 실행과 관련된 데이터가 필요하다.

2. 스레드 특정 데이터: 위에 기본 데이터 외에도 하나의 스레드에만 연관된 데이터가 필요한 경우가 있는데, 이런 데이터를 스레드 특정 데이터(Thread-Specific Data | TSD)라고 한다.
