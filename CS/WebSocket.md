# 웹소켓(WebSocket)
## 웹소켓 프로토콜이란

* 클라이언트와 서버를 연결하고 실시간으로 통신이 가능하도록 하는 첨단 통신 프로토콜이다.

* 웹소켓은 하나의 TCP 접속에 전이중 통신 채널을 제공!

* 채팅 어플리케이션, SNS, 구글 Docs, LOL 같은 멀티 게임, 화상회의에서도 사용된다.

## HTTP와의 차이점?

* HTTP는 단방향 통신

* 클라이언트에서 서버로 Request를 보내면 서버는 클라이언트로 Response를 보내는 방식

* 기본적으로 HTTP는 무상태이기 때문에 상태를 저장하지 않는다.

### But

* 웹소켓은 양방향 통신

* 클라이언트가 요청하지 않아도 데이터가 저절로 서버에서 올 수 있다.

* HTTP처럼 별도의 요청을 보내지 않아도 데이터를 수신 할 수 있다.

* 웹소켓은 HTTP와 다르게 상태 프로토콜

* 클라이언트와 서버가 한 번 연결되면 같은 연결을 해서 통신해서 TCP 커넥션 비용절약 가능

## 웹소켓 동작 과정
![Alt text](image.png)

* 웹소켓은 HTTP 포트 80, HTTPS 포트 443에서 동작한다.

* 웹소켓은 TCP처럼 핸드셰이크를 이용한다.

* HTTP 업그레이드 헤더를 이용해 HTTP 프로토콜에서 웹소켓 프로토콜로 변경한다.

### 정리

* 최초 접속에는 HTTP를 이용해 핸드셰이킹을 한다,

* 이후에 어느 한쪽이 연결을 끊지 않는 이상은 영구적인 동일한 채널이 맺어지고 HTTP 프로토콜이 웹소켓 프로토콜로 변경된다.
